@page "/produtos"
@inject IProdutoService produtoService

@if (Produtos == null)
{
    <h3>Carregando produtos...</h3>
} else
{
    <h3 >Produtos</h3>
    @if (Produtos.Count() > 0)
    {
        <MudGrid>
            @foreach (var item in Produtos)
            {
                 <MudItem xs="6" md="3">
                     <MudCard MaxWidth="300px" Elevation="0">
                         <MudCardMedia Image="@item.Imagem" Height="200" />
                         <MudCardContent>
                             <MudText Typo="Typo.h5">@item.Nome</MudText>
                             <MudText Typo="Typo.body2">@item.Descricao</MudText>
                         </MudCardContent>
                         <MudCardActions>
                             <MudButton Variant="Variant.Text" Color="Color.Primary">@item.Preco.ToString("c")</MudButton>
                             <MudButton Variant="Variant.Text" Color="Color.Primary">Learn More</MudButton>
                         </MudCardActions>
                     </MudCard>   
                 </MudItem>  
            }
        </MudGrid>
    }
}

@code {
    public IEnumerable<ProdutoDto>? Produtos { get; set; }

    protected override async Task OnInitializedAsync()
    {
        Produtos = await produtoService.GetProdutos();
    }
}
